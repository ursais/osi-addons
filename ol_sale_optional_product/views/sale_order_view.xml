<odoo>

    <!-- Sale Order form view -->
    <record id="view_order_form_inherit_ol_sale_optional_product" model="ir.ui.view">
        <field name="name">sale.order.form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <!-- Show a button that adds the product to the optional products. -->
            <xpath expr="//page[@name='order_lines']//field[@name='order_line']//tree//field[@name='discount']" position="after">
                <button
                    name="button_add_to_optional"
                    type="object"
                    class="oe_link"
                    icon="fa-arrow-circle-right"
                    title="Add to optional products"
                />
            </xpath>

        </field>
    </record>

    <record id="sale_order_form_quote_ol_sale_optional_product" model="ir.ui.view">
        <field name="name">sale.order.form.inherit.sale_management</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_management.sale_order_form_quote"/>
        <field name="arch" type="xml">
            <!-- Show the cart button even if the item is on an order line kanban. -->
            <xpath expr="//button[@name='button_add_to_order']" position="attributes">
                <attribute name="invisible" />
            </xpath>
            <!-- Show the cart button even if the item is on an order line tree. -->
            <xpath expr="//tree/button[@name='button_add_to_order']" position="attributes">
                <attribute name="invisible" />
            </xpath>
        </field>
    </record>

</odoo>
